CKA Practice: ConfigMaps and Secrets Tasks
This document summarizes the four practice tasks we completed on Kubernetes ConfigMaps and Secrets, including both the problem descriptions and the correct solutions.

Task 1: Create and Consume a ConfigMapTask: Create an nginx-welcome-config ConfigMap from an index.html file, then use it in a Pod to serve a custom welcome message.Solution: You successfully created the ConfigMap and then created the following Pod manifest to consume it. The volumeMounts correctly linked the ConfigMap to the NGINX web root, and the items array ensured the file was named correctly.apiVersion: v1
kind: Pod
metadata:
  name: webserver
spec:
  containers:
  - name: pod
    image: nginx:latest
    volumeMounts:
    - name: index-html
      mountPath: /usr/share/nginx/html
    resources: {}
  dnsPolicy: ClusterFirst
  restartPolicy: Always
  volumes:
  - name: index-html
    configMap:
      name: nginx-welcome-config
      items:
      - key: index.html
        path: index.html
Task 2: Create and Consume a SecretTask: Create a Secret with a base64-encoded password and inject it into a busybox Pod as an environment variable using envFrom.Solution: You correctly created the Secret with the base64-encoded value, and then you provided this Pod manifest. The use of envFrom is an efficient way to inject all key-value pairs from a Secret into a container's environment.apiVersion: v1
kind: Pod
metadata:
  name: secret-pod
spec:
  containers:
  - name: secret-container
    image: busybox:latest
    command: ["printenv"]
    envFrom:
    - secretRef:
        name: db-secret
Task 3: Resolve a ConfigMap IssueTask: A Pod is failing because a Deployment manifest is looking for a ConfigMap named app-config, but the actual ConfigMap is named app-config-map.Solution: The issue was a mismatch in the ConfigMap name. The fix was to update the Deployment manifest to reference the correct name, app-config-map.apiVersion: apps/v1
kind: Deployment
metadata:
  name: broken-app
spec:
  replicas: 1
  selector:
    matchLabels:
      app: broken
  template:
    metadata:
      labels:
        app: broken
    spec:
      containers:
      - name: my-app
        image: busybox
        command: ["/bin/sh", "-c", "cat /etc/config/app.conf && sleep 3600"]
        volumeMounts:
        - name: app-config-volume
          mountPath: "/etc/config"
      volumes:
      - name: app-config-volume
        configMap:
          name: app-config-map # Corrected name
Task 4: Resolve a Secret IssueTask: An application expects a database password in an environment variable named DB_PASS, but the Pod's Secret injection is causing the value to be null.Solution: The issue was a name mismatch between the Secret key (db-password) and the expected environment variable name (DB_PASS). The fix was to use valueFrom to explicitly map the Secret key to the correct environment variable name.apiVersion: v1
kind: Pod
metadata:
  name: secret-pod
spec:
  containers:
  - name: my-app
    image: busybox:latest
    env:
    - name: DB_PASS # Correct environment variable name
      valueFrom:
        secretKeyRef:
          name: my-db-secret
          key: db-password # Specific key from the Secret
